/**
 * @license
 * Ideal Postcodes <https://ideal-postcodes.co.uk>
 * Copyright IDDQD Limited
 * Postcode Lookup Bundled 2.3.0
 * Built on Postcode Lookup ~1.11.1
 * AGPL-3.0 Licence
 */
function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const r={tls:!0,api_key:"",baseUrl:"api.ideal-postcodes.co.uk",version:"v1",strictAuthorisation:!1,timeout:1e4,header:{Accept:"application/json","Content-Type":"application/json"},tags:[],agent:{}};class o{constructor(e){this.config={...r,...e},this.config.header={...r.header,...e.header&&e.header}}url(){const{baseUrl:e,version:t}=this.config;return`${this.protocol()}://${e}/${t}`}protocol(){return this.config.tls?"https":"http"}}const s=e=>void 0===e?{}:Object.keys(e).reduce(((t,n)=>{const r=e[n],o=a(r);return o.length>0&&(t[n]=o),t}),{}),i=e=>"string"==typeof e,a=e=>{const t=[];return n=e,Array.isArray(n)?(e.forEach((e=>{c(e)&&t.push(e.toString()),i(e)&&t.push(e)})),t.join(",")):c(e)?e.toString():i(e)?e:"";var n},c=e=>"number"==typeof e,u=({timeout:e},t)=>c(e)?e:t.config.timeout,l=({header:e={}},t)=>({...t.config.header,...s(e)});class d extends Error{constructor(e){const t=new.target.prototype;super(),this.__proto__=t;const{message:n,httpStatus:r,metadata:o={}}=e;this.message=n,this.name="Ideal Postcodes Error",this.httpStatus=r,this.metadata=o,Error.captureStackTrace&&Error.captureStackTrace(this,d)}}class h extends d{constructor(e){super({httpStatus:e.httpStatus,message:e.body.message}),this.response=e}}class p extends h{}class f extends h{}class m extends f{}class g extends h{}class y extends g{}class v extends g{}class b extends h{}class w extends b{}class E extends b{}class S extends b{}class C extends b{}class x extends h{}const A=e=>{const{httpStatus:t,body:n}=e;if((r=t)<200||r>=300){var r;if((e=>{return null!==(t=e)&&"object"==typeof t&&"string"==typeof e.message&&"number"==typeof e.code;var t})(n)){const{code:r}=n;if(4010===r)return new m(e);if(4040===r)return new w(e);if(4042===r)return new E(e);if(4044===r)return new S(e);if(4046===r)return new C(e);if(4020===r)return new y(e);if(4021===r)return new v(e);if(404===t)return new b(e);if(400===t)return new p(e);if(402===t)return new g(e);if(401===t)return new f(e);if(500===t)return new x(e)}return new d({httpStatus:t,message:JSON.stringify(n)})}};var O=Object.freeze({__proto__:null,IdealPostcodesError:d,IdpcApiError:h,IdpcBadRequestError:p,IdpcUnauthorisedError:f,IdpcInvalidKeyError:m,IdpcRequestFailedError:g,IdpcBalanceDepletedError:y,IdpcLimitReachedError:v,IdpcResourceNotFoundError:b,IdpcPostcodeNotFoundError:w,IdpcKeyNotFoundError:E,IdpcUdprnNotFoundError:S,IdpcUmprnNotFoundError:C,IdpcServerError:x,parse:A});const k=(e,t)=>[e.client.url(),e.resource,encodeURIComponent(t),e.action].filter((e=>void 0!==e)).join("/"),T=e=>{const{client:t}=e;return(n,r)=>t.config.agent.http({method:"GET",url:k(e,n),query:s(r.query),header:l(r,t),timeout:u(r,t)}).then((e=>{const t=A(e);if(t)throw t;return e}))},j=(e,t)=>(e=>{const{client:t,resource:n}=e;return e=>t.config.agent.http({method:"GET",url:`${t.url()}/${n}`,query:s(e.query),header:l(e,t),timeout:u(e,t)}).then((e=>{const t=A(e);if(t)throw t;return e}))})({resource:"addresses",client:e})(t),P=e=>{const{client:t,timeout:n}=e,r=e.api_key||e.client.config.api_key,{licensee:o}=e;let s;s=void 0===o?{}:{licensee:o};const i={query:s,header:{}};return void 0!==n&&(i.timeout=n),((e,t,n)=>T({resource:"keys",client:e})(t,n))(t,r,i).then((e=>e.body.result))};var L={exports:{}},_=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},N=_,q=Object.prototype.toString;function I(e){return"[object Array]"===q.call(e)}function U(e){return void 0===e}function R(e){return null!==e&&"object"==typeof e}function B(e){if("[object Object]"!==q.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function F(e){return"[object Function]"===q.call(e)}function D(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),I(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var M={isArray:I,isArrayBuffer:function(e){return"[object ArrayBuffer]"===q.call(e)},isBuffer:function(e){return null!==e&&!U(e)&&null!==e.constructor&&!U(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:R,isPlainObject:B,isUndefined:U,isDate:function(e){return"[object Date]"===q.call(e)},isFile:function(e){return"[object File]"===q.call(e)},isBlob:function(e){return"[object Blob]"===q.call(e)},isFunction:F,isStream:function(e){return R(e)&&F(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:D,merge:function e(){var t={};function n(n,r){B(t[r])&&B(n)?t[r]=e(t[r],n):B(n)?t[r]=e({},n):I(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)D(arguments[r],n);return t},extend:function(e,t,n){return D(t,(function(t,r){e[r]=n&&"function"==typeof t?N(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},H=M;function J(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var G=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(H.isURLSearchParams(t))r=t.toString();else{var o=[];H.forEach(t,(function(e,t){null!=e&&(H.isArray(e)?t+="[]":e=[e],H.forEach(e,(function(e){H.isDate(e)?e=e.toISOString():H.isObject(e)&&(e=JSON.stringify(e)),o.push(J(t)+"="+J(e))})))})),r=o.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},z=M;function W(){this.handlers=[]}W.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},W.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},W.prototype.forEach=function(e){z.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var $=W,K=M,V=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},X=V,Y=function(e,t,n,r,o){var s=new Error(e);return X(s,t,n,r,o)},Q=Y,Z=M,ee=Z.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var i=[];i.push(e+"="+encodeURIComponent(t)),Z.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&i.push("path="+r),Z.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},te=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},ne=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},re=M,oe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],se=M,ie=se.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=se.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function ae(e){this.message=e}ae.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},ae.prototype.__CANCEL__=!0;var ce=ae,ue=M,le=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(Q("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},de=ee,he=G,pe=function(e,t){return e&&!te(t)?ne(e,t):t},fe=function(e){var t,n,r,o={};return e?(re.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=re.trim(e.substr(0,r)).toLowerCase(),n=re.trim(e.substr(r+1)),t){if(o[t]&&oe.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o},me=ie,ge=Y,ye=ke,ve=ce,be=function(e){return new Promise((function(t,n){var r,o=e.data,s=e.headers,i=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}ue.isFormData(o)&&delete s["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var u=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(u+":"+l)}var d=pe(e.baseURL,e.url);function h(){if(c){var r="getAllResponseHeaders"in c?fe(c.getAllResponseHeaders()):null,o={data:i&&"text"!==i&&"json"!==i?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c};le((function(e){t(e),a()}),(function(e){n(e),a()}),o),c=null}}if(c.open(e.method.toUpperCase(),he(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(h)},c.onabort=function(){c&&(n(ge("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(ge("Network Error",e,null,c)),c=null},c.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||ye.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(ge(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},ue.isStandardBrowserEnv()){var p=(e.withCredentials||me(d))&&e.xsrfCookieName?de.read(e.xsrfCookieName):void 0;p&&(s[e.xsrfHeaderName]=p)}"setRequestHeader"in c&&ue.forEach(s,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete s[t]:c.setRequestHeader(t,e)})),ue.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),i&&"json"!==i&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){c&&(n(!e||e&&e.type?new ve("canceled"):e),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),o||(o=null),c.send(o)}))},we=M,Ee=function(e,t){K.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Se=V,Ce={"Content-Type":"application/x-www-form-urlencoded"};function xe(e,t){!we.isUndefined(e)&&we.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var Ae,Oe={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Ae=be),Ae),transformRequest:[function(e,t){return Ee(t,"Accept"),Ee(t,"Content-Type"),we.isFormData(e)||we.isArrayBuffer(e)||we.isBuffer(e)||we.isStream(e)||we.isFile(e)||we.isBlob(e)?e:we.isArrayBufferView(e)?e.buffer:we.isURLSearchParams(e)?(xe(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):we.isObject(e)||t&&"application/json"===t["Content-Type"]?(xe(t,"application/json"),function(e,t,n){if(we.isString(e))try{return(t||JSON.parse)(e),we.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||Oe.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&we.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw Se(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};we.forEach(["delete","get","head"],(function(e){Oe.headers[e]={}})),we.forEach(["post","put","patch"],(function(e){Oe.headers[e]=we.merge(Ce)}));var ke=Oe,Te=M,je=ke,Pe=function(e){return!(!e||!e.__CANCEL__)},Le=M,_e=function(e,t,n){var r=this||je;return Te.forEach(n,(function(n){e=n.call(r,e,t)})),e},Ne=Pe,qe=ke,Ie=ce;function Ue(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ie("canceled")}var Re=M,Be=function(e,t){t=t||{};var n={};function r(e,t){return Re.isPlainObject(e)&&Re.isPlainObject(t)?Re.merge(e,t):Re.isPlainObject(t)?Re.merge({},t):Re.isArray(t)?t.slice():t}function o(n){return Re.isUndefined(t[n])?Re.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!Re.isUndefined(t[e]))return r(void 0,t[e])}function i(n){return Re.isUndefined(t[n])?Re.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function a(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a};return Re.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);Re.isUndefined(r)&&t!==a||(n[e]=r)})),n},Fe="0.24.0",De=Fe,Me={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Me[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var He={};Me.transitional=function(e,t,n){function r(e,t){return"[Axios v"+De+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new Error(r(o," has been removed"+(t?" in "+t:"")));return t&&!He[o]&&(He[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};var Je={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var s=r[o],i=t[s];if(i){var a=e[s],c=void 0===a||i(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+s)}},validators:Me},Ge=M,ze=G,We=$,$e=function(e){return Ue(e),e.headers=e.headers||{},e.data=_e.call(e,e.data,e.headers,e.transformRequest),e.headers=Le.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Le.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||qe.adapter)(e).then((function(t){return Ue(e),t.data=_e.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Ne(t)||(Ue(e),t&&t.response&&(t.response.data=_e.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ke=Be,Ve=Je,Xe=Ve.validators;function Ye(e){this.defaults=e,this.interceptors={request:new We,response:new We}}Ye.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Ke(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Ve.assertOptions(t,{silentJSONParsing:Xe.transitional(Xe.boolean),forcedJSONParsing:Xe.transitional(Xe.boolean),clarifyTimeoutError:Xe.transitional(Xe.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,s=[];if(this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)})),!r){var i=[$e,void 0];for(Array.prototype.unshift.apply(i,n),i=i.concat(s),o=Promise.resolve(e);i.length;)o=o.then(i.shift(),i.shift());return o}for(var a=e;n.length;){var c=n.shift(),u=n.shift();try{a=c(a)}catch(e){u(e);break}}try{o=$e(a)}catch(e){return Promise.reject(e)}for(;s.length;)o=o.then(s.shift(),s.shift());return o},Ye.prototype.getUri=function(e){return e=Ke(this.defaults,e),ze(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Ge.forEach(["delete","get","head","options"],(function(e){Ye.prototype[e]=function(t,n){return this.request(Ke(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ge.forEach(["post","put","patch"],(function(e){Ye.prototype[e]=function(t,n,r){return this.request(Ke(r||{},{method:e,url:t,data:n}))}}));var Qe=Ye,Ze=ce;function et(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new Ze(e),t(n.reason))}))}et.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},et.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},et.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},et.source=function(){var e;return{token:new et((function(t){e=t})),cancel:e}};var tt=et,nt=M,rt=_,ot=Qe,st=Be;var it=function e(t){var n=new ot(t),r=rt(ot.prototype.request,n);return nt.extend(r,ot.prototype,n),nt.extend(r,n),r.create=function(n){return e(st(t,n))},r}(ke);it.Axios=ot,it.Cancel=ce,it.CancelToken=tt,it.isCancel=Pe,it.VERSION=Fe,it.all=function(e){return Promise.all(e)},it.spread=function(e){return function(t){return e.apply(null,t)}},it.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},L.exports=it,L.exports.default=it;var at=L.exports;const{IdealPostcodesError:ct}=O,ut=(e,t)=>{return{httpRequest:e,body:t.data,httpStatus:t.status||0,header:(n=t.headers,Object.keys(n).reduce(((e,t)=>{const r=n[t];return"string"==typeof r?e[t]=r:Array.isArray(r)&&(e[t]=r.join(",")),e}),{})),metadata:{response:t}};var n},lt=e=>{const t=new ct({message:"[".concat(e.name,"] ").concat(e.message),httpStatus:0,metadata:{axios:e}});return Promise.reject(t)},dt=()=>!0;class ht{constructor(){this.Axios=at.create({validateStatus:dt})}requestWithBody(e){const{body:t,method:n,timeout:r,url:o,header:s,query:i}=e;return this.Axios.request({url:o,method:n,headers:s,params:i,data:t,timeout:r}).then((t=>ut(e,t))).catch(lt)}request(e){const{method:t,timeout:n,url:r,header:o,query:s}=e;return this.Axios.request({url:r,method:t,headers:o,params:s,timeout:n}).then((t=>ut(e,t))).catch(lt)}http(e){return void 0!==e.body?this.requestWithBody(e):this.request(e)}}class pt extends o{constructor(e){super(t({agent:new ht},e))}}const ft=e=>{let{header:t,options:n,client:r}=e;return t.Authorization=((e,t)=>{const n=[],r=t.api_key||e.config.api_key;n.push(["api_key",r]);const o=t.licensee;void 0!==o&&n.push(["licensee",o]);const s=t.user_token;return void 0!==s&&n.push(["user_token",s]),"IDEALPOSTCODES ".concat(mt(n))})(r,n),t},mt=e=>e.map((e=>{let[t,n]=e;return"".concat(t,'="').concat(n,'"')})).join(" "),gt=e=>{let{header:t,options:n}=e;const{sourceIp:r}=n;return void 0!==r&&(t["IDPC-Source-IP"]=r),t},yt=e=>{let{query:t,options:n}=e;const{filter:r}=n;return void 0!==r&&(t.filter=r.join(",")),t},vt=e=>{let t,{client:n,query:r,options:o}=e;return n.config.tags.length&&(t=n.config.tags),o.tags&&(t=o.tags),void 0!==t&&(r.tags=t.join(",")),r},bt=e=>"string"==typeof e,wt=()=>!0,Et=(e,t)=>bt(e)?t.querySelector(e):e,St=()=>window.document,Ct=e=>bt(e)?St().querySelector(e):null===e?St():e,xt=(e,t)=>{const n=e.getAttribute("style");return Object.keys(t).forEach((n=>e.style[n]=t[n])),n},At=e=>(e.style.display="none",e),Ot=e=>(e.style.display="",e),kt=e=>{null!==e&&null!==e.parentNode&&e.parentNode.removeChild(e)},Tt=(e,t,n)=>{const r=e.querySelectorAll(t);for(let e=0;e<r.length;e++){const t=r[e],o=t.innerText;if(o&&o.trim()===n)return t}return null},jt=e=>{const t=(e=String(e)).length;let n,r=-1,o="";const s=e.charCodeAt(0);for(;++r<t;)n=e.charCodeAt(r),o+=0!=n?n>=1&&n<=31||127==n||0==r&&n>=48&&n<=57||1==r&&n>=48&&n<=57&&45==s?"\\"+n.toString(16)+" ":(0!=r||1!=t||45!=n)&&(n>=128||45==n||95==n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)?e.charAt(r):"\\"+e.charAt(r):"�";return o},Pt=(e,t)=>e.dispatchEvent((e=>{let{event:t,bubbles:n=!0,cancelable:r=!0}=e;if("function"==typeof window.Event)return new window.Event(t,{bubbles:n,cancelable:r});const o=document.createEvent("Event");return o.initEvent(t,n,r),o})({event:t})),Lt=e=>null!==e&&e instanceof HTMLSelectElement,_t=e=>null!==e&&e instanceof HTMLInputElement,Nt=e=>null!==e&&e instanceof HTMLTextAreaElement,qt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(_t(e)||Nt(e))&&Rt({e:e,value:t,skipTrigger:n})},It=(e,t)=>null!==t&&null!==e.querySelector('[value="'.concat(t,'"]')),Ut=(e,t)=>{const n=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value");if(void 0===n)return;if(void 0===n.set)return;n.set.call(e,t)},Rt=e=>{null!==e.value&&((e=>{let{e:t,value:n,skipTrigger:r}=e;null!==n&&Lt(t)&&(Ut(t,n),r||Pt(t,"select"),Pt(t,"change"))})(e),(e=>{let{e:t,value:n,skipTrigger:r}=e;null!==n&&(_t(t)||Nt(t))&&(Ut(t,n),r||Pt(t,"input"),Pt(t,"change"))})(e))},Bt=e=>/^GY/.test(e.postcode)?"GG":/^JE/.test(e.postcode)?"JE":null,Ft="United Kingdom",Dt="Isle of Man",Mt="England",Ht="Scotland",Jt="Wales",Gt="Northern Ireland",zt="Channel Islands",Wt=e=>{const t=e.country;if(t===Mt)return Ft;if(t===Ht)return Ft;if(t===Jt)return Ft;if(t===Gt)return Ft;if(t===Dt)return Dt;if(t===zt){const t=Bt(e);if("GG"===t)return"Guernsey";if("JE"===t)return"Jersey"}return null},$t=(e,t)=>{if(e){if(Lt(e)){const n=(e=>{const t=e.country;return t===Mt||t===Ht||t===Jt||t===Gt?"GB":t===Dt?"IM":t===zt?Bt(e):null})(t);It(e,n)&&Rt({e:e,value:n});const r=Wt(t);It(e,r)&&Rt({e:e,value:r})}if(_t(e)){const n=Wt(t);Rt({e:e,value:n})}}};let Kt={};"undefined"!=typeof window&&(window.idpcGlobal?Kt=window.idpcGlobal:window.idpcGlobal=Kt);var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});var Xt=Vt.capitalisePostTown=void 0,Yt=/^(of|le|upon|on|the)$/,Qt=/\w+&\w+/,Zt=function(e){return(e=e.toLowerCase()).match(Yt)?e:e.match(Qt)?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1)},en=/-/,tn=/^(in|de|under|upon|y|on|over|the|by)$/,nn=function(e){return null===e.match(en)?e:e.split("-").map((function(e){return e.match(tn)?e.toLowerCase():Zt(e)})).join("-")},rn=/bo'ness/i,on=/bfpo/i,sn=function(e){return e.match(rn)?"Bo'Ness":e.match(on)?"BFPO":e};Xt=Vt.capitalisePostTown=function(e){return e.split(" ").map(Zt).map(nn).map(sn).join(" ")};const an=e=>e.filter((e=>bt(e)?!!e.trim():!!e)).join(", "),cn=(e,t)=>{const n=e[t];return"number"==typeof n?n.toString():void 0===n?"":n},un=(e,t)=>void 0===e[t],ln=(e,t,n)=>{const[r,o,s]=((e,t)=>{const{line_1:n,line_2:r,line_3:o}=t;return 3===e?[n,r,o]:2===e?[n,an([r,o]),""]:[an([n,r,o]),"",""]})((e=>{const{line_2:t,line_3:n}=e;return t?n?3:2:1})(e),t);qt(Et(e.line_1||null,n),r),qt(Et(e.line_2||null,n),o),qt(Et(e.line_3||null,n),s)},dn=(e,t)=>{const n={};let r;for(r in e){if(!e.hasOwnProperty(r))continue;const o=e[r],s=Et('[name="'.concat(o,'"]'),t);if(s){n[r]=s;continue}const i=Et('[aria-name="'.concat(o,'"]'),t);i&&(n[r]=i)}return n},hn=(e,t)=>{const n={};if(void 0===e)return e;let r;for(r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(!o)continue;const s=Tt(t,"label",o),i=Et(s,t);if(!i)continue;const a=i.getAttribute("for");if(a){const e=t.querySelector("#".concat(jt(a)));if(e){n[r]=e;continue}}const c=i.querySelector("input");c&&(n[r]=c)}return n},pn=e=>{const{config:n}=e,r=t({},e.address),{scope:o,titleizePostTown:s,populateOrganisation:i,populateCounty:a}=n,c=t(t(t({},(u=e).outputFields),dn(u.names||{},u.config.scope)),hn(u.labels||{},u.config.scope));var u;let l;for(l in n.removeOrganisation&&fn(r),s&&(r.post_town=Xt(r.post_town)),ln(c,r,o),delete r.line_1,delete r.line_2,delete r.line_3,$t(Et(c.country||null,o),r),delete r.country,!1===i&&delete r.organisation_name,!1===a&&delete r.county,c)if(!un(r,l)&&c.hasOwnProperty(l)){const e=c[l];if(!e)continue;qt(Et(e,o),cn(r,l))}},fn=e=>(0===e.organisation_name.length||0===e.line_2.length&&0===e.line_3.length||e.line_1===e.organisation_name&&(e.line_1=e.line_2,e.line_2=e.line_3,e.line_3=""),e),mn={13:"Enter",38:"ArrowUp",40:"ArrowDown",36:"Home",35:"End",27:"Escape",8:"Backspace"},gn=["Enter","ArrowUp","ArrowDown","Home","End","Escape","Backspace"],yn=e=>{return e.keyCode?mn[e.keyCode]||null:(t=e.key,-1!==gn.indexOf(t)?e.key:null);var t},vn=function(e,t,n){let r,o,s,i,a,c,u=0,l=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");var p,f;function m(t){const n=r,s=o;return r=o=void 0,u=t,i=e.apply(s,n),i}function g(e){const n=e-c;return void 0===c||n>=t||n<0||d&&e-u>=s}function y(){const e=Date.now();if(g(e))return function(e){if(a=void 0,h&&r)return m(e);return r=o=void 0,i}(e);a=setTimeout(y,function(e){const n=e-u,r=t-(e-c);return d?Math.min(r,s-n):r}(e))}function v(){const e=Date.now(),n=g(e);for(var s=arguments.length,h=new Array(s),p=0;p<s;p++)h[p]=arguments[p];if(r=h,o=this,c=e,n){if(void 0===a)return function(e){return u=e,a=setTimeout(y,t),l?m(e):i}(c);if(d)return a=setTimeout(y,t),m(c)}return void 0===a&&(a=setTimeout(y,t)),i}return t=+t||0,f=typeof(p=n),!p||"object"!=f&&"function"!=f||(l=!!n.leading,d="maxWait"in n,s=d?Math.max(+n.maxWait||0,t):s,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),u=0,r=c=o=a=void 0},v.pending=function(){return void 0!==a},v},bn=e=>{let{bind:t,interval:n=1e3}=e,r=null;const o=()=>{null!==r&&(window.clearInterval(r),r=null)};return{start:()=>(r=window.setInterval((()=>{try{t()}catch(e){o()}}),n),r),stop:o}},wn=e=>window&&window.MutationObserver&&e.mutationObserver?(e=>{let{bind:t,interval:n=1e3,target:r=window.document,observerConfig:o={subtree:!0,childList:!0,attributes:!0}}=e;const s=new MutationObserver(vn((()=>{try{t()}catch(e){i()}}),n)),i=()=>s.disconnect();return{start:()=>(s.observe(r,o),null),stop:i}})(e):bn(e),En=e=>(e.preventDefault&&e.preventDefault(),!1),Sn=()=>{},Cn=()=>!1,xn=function(e){if("Enter"===yn(e))return e.preventDefault(),this.handleClick(),!1},An=function(e){return e.cancelable&&e.preventDefault(),this.options.onButtonTrigger.call(this),this.handleClick(),!1},On=function(){const e=parseInt(this.select.value,10);isNaN(e)||this.selectAddress(e)},kn={apiKey:"",checkKey:!0,context:"",outputScope:null,onButtonTrigger:Sn,onSearchCompleted:Sn,onAddressesRetrieved:Sn,onAddressSelected:Sn,onSelectCreated:Sn,onSelectRemoved:Sn,onLookupTriggered:Sn,shouldLookupTrigger:()=>!0,onSearchError:Sn,onLoaded:Sn,onFailedCheck:Sn,onRemove:Sn,onAddressPopulated:Sn,onUnhide:Sn,input:null,inputId:null,inputClass:"idpc-input",inputAriaLabel:"Search a postcode to retrieve your address",placeholder:"Search your postcode",button:null,buttonId:null,buttonLabel:"Find my Address",buttonClass:"idpc-button",selectContainer:null,selectId:null,selectClass:"idpc-select",selectContainerId:null,selectContainerClass:"idpc-select-container",selectAriaLabel:"Select your address",unhide:null,unhideClass:"idpc-unhide",message:null,messageId:null,messageClass:"idpc-error",msgSelect:"Please select your address",msgDisabled:"Finding addresses...",msgNotFound:"Your postcode could not be found. Please type in your address",msgAddressNotFound:"We could not find a match for your address. Please type in your address",msgError:"Sorry, we weren't able to get the address you were looking for. Please type in your address",msgUnhide:"Enter address manually",cooloff:500,removeOrganisation:!1,selectSinglePremise:!1,titleizePostTown:!0,postcodeSearchFormatter:e=>{const t=[e.line_1];return""!==e.line_2&&t.push(e.line_2),t.join(" ")},addressSearchFormatter:e=>{const t=[e.line_1];return""!==e.line_2&&t.push(e.line_2),t.push(e.post_town),t.push(e.postcode_outward),t.join(", ")},outputFields:{},strictlyPostcodes:!0,limit:10,inputStyle:{},buttonStyle:{},messageStyle:{},selectStyle:{},contextStyle:{},hide:[],autocomplete:"none",populateCounty:!0,populateOrganisation:!0};class Tn{constructor(e){var n;this.prevContext=null,this.options=t(t(t({},{scope:window.document,document:window.document}),kn),e),this.client=new pt(t(t({},this.options),{},{api_key:this.options.apiKey})),this.scope=Ct(this.options.scope),this.document=(n=this.scope)instanceof Document?n:n.ownerDocument?n.ownerDocument:St(),this.outputScope=this.findOrCreate(this.options.outputScope,(()=>this.scope)),this.data=[],this.lastLookup="",this.context=this.findOrCreate(this.options.context),this.prevContext=xt(this.context,this.options.contextStyle),this.keypress=xn.bind(this),this.click=An.bind(this),this.selectEvent=On.bind(this),this.unhideEvent=this.unhideFields.bind(this),this.input=this.createInput(),this.button=this.createButton(),this.message=this.createMessage(),this.select=this.createSelect(),this.selectContainer=this.createContainer(),this.unhide=this.createUnhide(),this.init()}findOrCreate(e,t){return bt(e)?this.scope.querySelector(e):t&&null===e?t():e}createUnhide(){const e=this.findOrCreate(this.options.unhide,(()=>{const e=this.document.createElement("p");return e.innerText=this.options.msgUnhide,e.setAttribute("role","button"),e.setAttribute("tabindex","0"),this.options.unhideClass&&(e.className=this.options.unhideClass),e}));return e.addEventListener("click",this.unhideEvent),e}unmountUnhide(){this.unhide.removeEventListener("click",this.unhideEvent),!this.options.unhide&&this.options.hide.length&&kt(this.unhide)}createContainer(){return this.findOrCreate(this.options.selectContainer,(()=>{const e=this.options,t=this.document.createElement("div");return e.selectContainerId&&(t.id=e.selectContainerId),e.selectContainerClass&&(t.className=e.selectContainerClass),t.setAttribute("aria-live","polite"),At(t),t}))}unmountContainer(){kt(this.selectContainer)}createInput(){const e=this.findOrCreate(this.options.input,(()=>{const e=this.document.createElement("input"),t=this.options;return e.type="text",t.inputId&&(e.id=t.inputId),t.inputClass&&(e.className=t.inputClass),t.placeholder&&(e.placeholder=t.placeholder),t.inputAriaLabel&&e.setAttribute("aria-label",t.inputAriaLabel),t.autocomplete&&e.setAttribute("autocomplete",t.autocomplete),xt(e,this.options.inputStyle),e}));return e.addEventListener("keypress",this.keypress),e.addEventListener("submit",Cn),e}unmountInput(){this.input.removeEventListener("keypress",this.keypress),this.input.removeEventListener("submit",Cn),null===this.options.input&&kt(this.input)}createButton(){const e=this.findOrCreate(this.options.button,(()=>{const e=this.document.createElement("button"),t=this.options;return e.type="button",t.buttonLabel&&(e.innerText=t.buttonLabel),t.buttonId&&(e.id=t.buttonId),t.buttonClass&&(e.className=t.buttonClass),xt(e,this.options.buttonStyle),e.onclick=En,e}));return e.addEventListener("submit",Cn),e.addEventListener("click",this.click),e}unmountButton(){this.button.removeEventListener("submit",Cn),this.button.removeEventListener("click",this.click),null===this.options.button&&kt(this.button)}createMessage(){return this.findOrCreate(this.options.message,(()=>{const e=this.document.createElement("p"),t=this.options;return t.messageClass&&(e.className=t.messageClass),t.messageId&&(e.id=t.messageId),e.setAttribute("role","alert"),xt(e,this.options.messageStyle),At(e),e}))}unmountMessage(){null===this.options.message&&kt(this.message)}createSelect(){const e=this.document.createElement("select"),t=this.options;return t.selectId&&(e.id=t.selectId),t.selectClass&&(e.className=t.selectClass),xt(e,this.options.selectStyle),t.selectAriaLabel&&e.setAttribute("aria-label",t.selectAriaLabel),e.addEventListener("change",this.selectEvent),e}mountSelect(e){e&&(this.data=e),(e=>{let t;for(t=e.options.length-1;t>=0;t--)e.remove(t)})(this.select),this.select.appendChild(this.createOption("ideal",this.options.msgSelect));for(let e=0;e<this.data.length;e+=1)this.select.appendChild(this.createOption(e.toString(),this.formatAddress(this.data[e])));this.selectContainer.appendChild(this.select),Ot(this.selectContainer),this.options.onSelectCreated.call(this,this.select)}unmountSelect(){kt(this.select),At(this.selectContainer),this.options.onSelectRemoved.call(this)}selectAddress(e){const t=this.data[e];t&&(this.populateAddress(t),this.options.onAddressSelected.call(this,t))}handleClick(){if(!this.options.shouldLookupTrigger.call(this))return!1;this.options.onLookupTriggered.call(this);const e=this.input.value;return this.lastLookup===e||(this.lastLookup=e,this.reset(),this.disableButton(),this.executeSearch(e)),!1}disableButton(e){this.options.button||(this.button.setAttribute("disabled","true"),this.button.innerText=e||this.options.msgDisabled)}enableButton(){this.options.button||(this.button.removeAttribute("disabled"),this.button.innerText=this.options.buttonLabel)}enableLookup(){if(this.options.button)return;const{cooloff:e}=this.options;if(0===e)return this.enableButton();setTimeout((()=>this.enableButton()),e)}reset(){this.unmountSelect(),this.hideMessage()}removeAll(){var e,t;this.unmountInput(),this.unmountButton(),this.unmountContainer(),this.unmountMessage(),this.unmountUnhide(),e=this.context,t=this.prevContext,e.setAttribute("style",t||""),this.options.onRemove.call(this)}notFoundMessage(){return this.options.strictlyPostcodes?this.options.msgNotFound:this.options.msgAddressNotFound}executeSearch(e){this.enableLookup();return(this.options.strictlyPostcodes?this.searchPostcode(e):this.searchAddress(e)).catch((e=>{if(e instanceof w==!1)throw e;const t=e.response.body.suggestions||[];return t.length>1?(this.suggestionsMessage(t),null):1===t.length?(this.input.value=t[0],this.executeSearch(t[0]),null):[]})).then((t=>{if(null!==t){if(this.options.onSearchCompleted.call(this,null,t),0===t.length)return this.setMessage(this.notFoundMessage());if(this.setMessage(),this.lastLookup=e,this.data=t,this.options.onAddressesRetrieved.call(this,t),this.options.selectSinglePremise&&1===t.length)return this.selectAddress(0);this.mountSelect(t)}})).catch((e=>{this.setMessage(this.options.msgError),this.options.onSearchCompleted.call(this,null,[]),this.options.onSearchError.call(this,e)}))}suggestionsMessage(e){const t=this.document.createElement("span");t.innerHTML="We couldn't find <b>".concat(this.input.value,"</b>. Did you mean "),e.forEach(((n,r)=>{const o=this.document.createElement("a");0===r?o.innerText="".concat(n):r===e.length-1?o.innerText=" or ".concat(n):o.innerText=", ".concat(n),o.style.cursor="pointer",o.addEventListener("click",(e=>{e.preventDefault(),this.input.value=n,this.executeSearch(n),this.hideMessage()})),t.appendChild(o)})),Ot(this.message),this.message.innerHTML="",this.message.appendChild(t)}searchPostcode(e){const t=(e=>{const t={},n={},{client:r}=e;ft({client:r,header:t,options:e}),gt({header:t,options:e}),yt({query:n,options:e}),vt({client:r,query:n,options:e});const o={header:t,query:n};return void 0!==e.timeout&&(o.timeout=e.timeout),o})({client:this.client});return((e,t,n)=>T({resource:"postcodes",client:e})(t,n))(this.client,e,t).then((e=>e.body.result))}searchAddress(e){const t=(e=>{const t={},n={query:e.query},{client:r}=e;ft({client:r,header:t,options:e}),gt({header:t,options:e}),yt({query:n,options:e}),vt({client:r,query:n,options:e}),(e=>{let{query:t,options:n}=e;const{page:r,limit:o}=n;void 0!==r&&(t.page=r.toString()),void 0!==o&&(t.limit=o.toString())})({query:n,options:e});const o={header:t,query:n};return void 0!==e.timeout&&(o.timeout=e.timeout),o})({client:this.client,query:e,limit:this.options.limit});return j(this.client,t).then((e=>e.body.result.hits))}formatAddress(e){return(this.options.strictlyPostcodes?this.options.postcodeSearchFormatter:this.options.addressSearchFormatter)(e)}createOption(e,t){const n=this.document.createElement("option");return n.text=t,n.value=e,n}setMessage(e){if(this.message){if(void 0===e)return this.hideMessage();Ot(this.message),this.message.innerText=e}}hideMessage(){this.message&&(this.message.innerText="",At(this.message))}init(){const e=()=>{this.render(),this.hideFields(),this.options.onLoaded.call(this)};if(!this.options.checkKey)return e();P({client:this.client}).then((t=>{let{available:n}=t;return n?e():Promise.reject("Key not available")})).catch((e=>{this.options.onFailedCheck&&this.options.onFailedCheck(e)}))}populateAddress(e){this.unhideFields();const n=this.options.outputFields,r=t(t({},this.options),{},{scope:this.outputScope});pn({outputFields:n,address:e,config:r}),this.options.onAddressPopulated.call(this,e)}hiddenFields(){return this.options.hide.map((e=>{return bt(e)?(t=this.scope,(n=e)?t.querySelector(n):null):e;var t,n})).filter((e=>null!==e))}hideFields(){this.hiddenFields().forEach(At)}unhideFields(){this.hiddenFields().forEach(Ot),this.options.onUnhide.call(this)}render(){this.context.innerHTML="",this.options.input||this.context.appendChild(this.input),this.options.button||this.context.appendChild(this.button),this.options.selectContainer||this.context.appendChild(this.selectContainer),this.options.message||this.context.appendChild(this.message),!this.options.unhide&&this.options.hide.length&&this.context.appendChild(this.unhide)}}const jn=e=>{const t=new Tn(e);return Pn.push(t),t},Pn=[],Ln=()=>!0,_n=()=>{},Nn=e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wt,r=e;const o=t.toUpperCase();for(;"HTML"!==r.tagName;){if(r.tagName===o&&n(r))return r;if(null===r.parentNode)return null;r=r.parentNode}return null}(e,"FORM"),qn=(e,t)=>{const n=Ct(e.scope||null).querySelectorAll(e.anchor||e.context||e.scope);return(r=n,Array.prototype.slice.call(r)).filter((e=>!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"idpc";return"true"===e.getAttribute(t)}(e,t)));var r},In=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{pageTest:r=Ln,onError:o=_n,onBindAttempt:s=_n,onBind:i=_n,anchor:a,onAnchorFound:c=_n,getScope:u=Nn,marker:l="idpc-pl"}=n;let d;const{start:h,stop:p}=wn({bind:()=>{try{s(e),qn(t({anchor:a},e),l).forEach((t=>{if(!r())return;const n=u(t);c({anchor:t,scope:n,config:e}),d=jn(e),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"idpc";e.setAttribute(t,"true")}(t,l),i(d)}))}catch(e){o(e)}}});return h(),{start:h,stop:p,controller:d}},Un={controllers:Pn,setup:jn,Controller:Tn,defaults:kn,watch:In};export{Tn as Controller,Un as PostcodeLookup,In as watch};
