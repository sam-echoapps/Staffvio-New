{"version":3,"sources":["../debug/ojcachediteratorresultsdataprovider.js"],"names":["define","oj","ojeventtarget","ojcomponentcore","Object","prototype","hasOwnProperty","call","CachedIteratorResultsDataProvider","[object Object]","dataProvider","options","this","CacheAsyncIterable","_parent","dataProviderAsyncIterator","params","cache","Symbol","asyncIterator","CacheAsyncIterator","_a","_b","_cachedOffset","_needLocalRowCount","includeFilteredRowCount","_baseFetchFirstCapability","totalFilteredRowCount","size","_checkCachedParamsAndIterate","then","result","_getResult","getSize","undefined","isDone","getDataList","data","length","Promise","resolve","CacheAsyncIteratorReturnResult","CacheAsyncIteratorYieldResult","reject","_getSharedIteratorState","fetchOffset","fetchUntilOffset","done","value","asyncIteratorFetchPromise","firstIteratorCachedFetchParams","cachedFetchParams","firstIteratorCachedFetchOffset","firstIteratorCachedFetchPromise","fetchPromise","_compareCachedFetchParameters","_createCachedFetchParams","next","addListResult","finalResult","_VALUE","assign","_DONE","DataCache","_lastFetchParams","createOptimizedKeyMap","initialMap","createOptimizedKeySet","initialSet","addEventListener","_MUTATE","event","processMutations","detail","dispatchEvent","_REFRESH","reset","getCapability","finalResults","Set","neededKeys","cacheResults","getDataByKeys","keys","forEach","key","results","get","add","containsParameters","newParams","attributes","scope","containsKeys","containsKeysResults","Map","item","set","fetchParameters","fetchByKeys","fetchByKeysResults","_DEFAULT_SIZE","offset","updatedParams","JSON","parse","stringify","startsWith","getDataByOffset","fetchByOffset","fetchFirst","_firstIteratorState","capabilityName","capability","attributeFilter","caching","filterDef","getTotalSize","isEmpty","cachedParams","compareValues","_getFilterDef","filterCriterion","sortCriteria","filter","property","_KEY","_KEYS","_DATA","_STARTINDEX","_SORT","_SORTCRITERIA","_FILTERCRITERION","_METADATA","_ITEMS","_FROM","_OFFSET","_SIZE","_FETCHPARAMETERS","_RESULTS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_FETCHFIRST","_ADDEVENTLISTENER","_FETCHATTRIBUTES","EventTargetMixin","applyMixin","_registerLegacyNamespaceProp"],"mappings":"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"}